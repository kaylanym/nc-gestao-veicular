<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>NC Gest√£o Veicular ‚Äî Plataforma Veicular</title>
  <link rel="stylesheet" href="styles.css">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
</head>
<body class="landing-page">
  <div class="landing-wrap">

    <!-- Coluna esquerda -->
    <aside class="landing-info">
      <div class="animated-grid-bg" aria-hidden="true"></div>

      <!-- Part√≠culas flutuantes -->
      <div class="landing-particles" aria-hidden="true">
        <span></span><span></span><span></span>
        <span></span><span></span><span></span>
      </div>

      <div class="landing-info-inner">
        <div class="landing-badge animate-in" style="--delay:.05s">
          <span class="badge-dot"></span>
          Plataforma 100% Online
        </div>

        <h1 class="landing-info-title animate-in" style="--delay:.15s">
          NC Gest√£o<br>Veicular
        </h1>

        <p class="landing-info-lead animate-in" style="--delay:.25s">
          Emiss√µes de documentos e pagamentos<br>veiculares em um s√≥ lugar.
        </p>

        <ul class="landing-benefits">
          <li class="animate-in" style="--delay:.35s">
            <span class="landing-benefit-icon">
              <svg viewBox="0 0 20 20" fill="currentColor" width="14"><path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"/></svg>
            </span>
            <span>CRLV-E, ATPV-E e documentos oficiais emitidos em minutos.</span>
          </li>
          <li class="animate-in" style="--delay:.42s">
            <span class="landing-benefit-icon">
              <svg viewBox="0 0 20 20" fill="currentColor" width="14"><path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"/></svg>
            </span>
            <span>Consulta de d√©bitos, FIPE e base estadual.</span>
          </li>
          <li class="animate-in" style="--delay:.49s">
            <span class="landing-benefit-icon">
              <svg viewBox="0 0 20 20" fill="currentColor" width="14"><path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"/></svg>
            </span>
            <span>Multas, IPVA e licenciamento sem filas.</span>
          </li>
          <li class="animate-in" style="--delay:.56s">
            <span class="landing-benefit-icon">
              <svg viewBox="0 0 20 20" fill="currentColor" width="14"><path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"/></svg>
            </span>
            <span>Despachantes credenciados em todo o Brasil.</span>
          </li>
        </ul>

        <!-- Estat√≠sticas -->
        <div class="landing-stats animate-in" style="--delay:.65s">
          <div class="stat-item">
            <div class="stat-num">12+</div>
            <div class="stat-lbl">Estados</div>
          </div>
          <div class="stat-sep"></div>
          <div class="stat-item" style="gap:.35rem">
            <div style="display:flex;flex-direction:column;align-items:center;gap:0">
              <div class="stat-num" style="font-size:.95rem">10min</div>
              <div class="stat-lbl">Emiss√£o R√°pida CRLV</div>
            </div>
            <div style="width:100%;height:1px;background:rgba(0,0,0,.1);margin:.2rem 0"></div>
            <div style="display:flex;flex-direction:column;align-items:center;gap:0">
              <div class="stat-num" style="font-size:.95rem">at√© 4h</div>
              <div class="stat-lbl">Agendado</div>
            </div>
          </div>
          <div class="stat-sep"></div>
          <div class="stat-item">
            <div class="stat-num">100%</div>
            <div class="stat-lbl">Online</div>
          </div>
        </div>
      </div>
    </aside>

    <!-- Coluna direita: card -->
    <main class="landing-form-area">
      <div class="shine-wrap animate-in-right" id="shine-wrap">
        <div class="shine-border-beam" id="shine-beam" aria-hidden="true"></div>
      <div class="magic-card" id="magic-card">
        <div class="magic-card-spotlight" id="magic-spotlight" aria-hidden="true"></div>

        <div class="landing-form-card">
          <div class="mc-header">
            <div class="mc-logo-wrap">
              <div class="mc-logo-icon">üöó</div>
              <span class="mc-logo-text">NC Gest√£o Veicular</span>
            </div>
          </div>

          <!-- Abas -->
          <div class="card-tabs">
            <button type="button" class="card-tab active" data-tab="login" aria-pressed="true">Entrar</button>
            <button type="button" class="card-tab" data-tab="cadastro" aria-pressed="false">Cadastrar</button>
          </div>

          <!-- Painel Login -->
          <div class="card-tab-panel" id="panel-login">
            <div class="mc-panel-header" id="login-header">
              <p class="mc-panel-title">Bem-vindo de volta</p>
              <p class="mc-panel-desc">Entre com suas credenciais para acessar a plataforma.</p>
            </div>
            <form class="mc-form" id="form-login">
              <div class="mc-field">
                <label for="login-email">E-mail</label>
                <input type="email" id="login-email" name="email" placeholder="nome@exemplo.com" required>
              </div>
              <div class="mc-field">
                <label for="login-senha">Senha</label>
                <div class="input-senha-wrap" style="position:relative;width:100%;display:block">
                  <input type="password" id="login-senha" name="senha" placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢" required style="width:100%;box-sizing:border-box;padding-right:2.6rem">
                  <button type="button" class="btn-ver-senha" onclick="toggleSenha('login-senha', this)" tabindex="-1" aria-label="Ver senha" style="position:absolute;right:.75rem;top:50%;transform:translateY(-50%);background:none;border:none;outline:none;box-shadow:none;padding:0;margin:0;cursor:pointer;color:#9ca3af;display:flex;align-items:center;-webkit-appearance:none;appearance:none">
                    <svg class="olho-off" xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"/><circle cx="12" cy="12" r="3"/></svg>
                    <svg class="olho-on" xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="display:none"><path d="M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94"/><path d="M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19"/><line x1="1" y1="1" x2="23" y2="23"/></svg>
                  </button>
                </div>
              </div>
              <p id="login-erro" class="mc-erro" style="display:none;"></p>
              <button type="submit" class="mc-btn-submit" id="login-btn">Entrar</button>
              <p style="text-align:center;margin-top:.75rem">
                <a href="#" id="link-recuperar" style="font-size:.8125rem;color:#0d9488;text-decoration:none">Esqueceu a senha?</a>
              </p>
            </form>

            <!-- Painel recupera√ß√£o de senha -->
            <div id="painel-recuperar" style="display:none">
              <div class="mc-panel-header" style="text-align:center">
                <p class="mc-panel-title">Recuperar senha</p>
                <p class="mc-panel-desc">Digite seu e-mail e enviaremos um link para redefinir sua senha.</p>
              </div>
              <div class="mc-form">
                <div class="mc-field">
                  <label for="rec-email">E-mail</label>
                  <input type="email" id="rec-email" placeholder="nome@exemplo.com">
                </div>
                <p id="rec-msg" class="mc-erro" style="display:none;"></p>
                <button type="button" class="mc-btn-submit" id="rec-btn">Enviar link</button>
                <p style="text-align:center;margin-top:.75rem">
                  <a href="#" id="link-voltar-login" style="font-size:.8125rem;color:#0d9488;text-decoration:none">‚Üê Voltar ao login</a>
                </p>
              </div>
            </div>
          </div>

          <!-- Painel Cadastro -->
          <div class="card-tab-panel hidden" id="panel-cadastro">
            <div class="mc-panel-header">
              <p class="mc-panel-title">Criar conta</p>
              <p class="mc-panel-desc">Preencha seus dados para acessar a plataforma.</p>
            </div>
            <form class="mc-form" id="form-cadastro-inicial" autocomplete="off">
              <div class="mc-field">
                <label for="reg-nome">Nome completo <span style="color:#ef4444">*</span></label>
                <input type="text" id="reg-nome" name="nomeCompleto" required placeholder="Seu nome completo">
              </div>
              <div class="mc-field">
                <label for="reg-endereco">Endere√ßo <span style="color:#ef4444">*</span></label>
                <input type="text" id="reg-endereco" name="endereco" required placeholder="Rua, n√∫mero, bairro, cidade, CEP">
              </div>
              <div class="mc-field">
                <label for="reg-telefone">Telefone (WhatsApp) <span style="color:#ef4444">*</span></label>
                <input type="tel" id="reg-telefone" name="telefone" required placeholder="(00) 00000-0000">
              </div>
              <div class="mc-field">
                <label for="reg-email">E-mail <span style="color:#ef4444">*</span></label>
                <input type="email" id="reg-email" name="email" required placeholder="nome@exemplo.com">
              </div>
              <div class="mc-field">
                <label for="reg-senha">Senha <span style="color:#ef4444">*</span></label>
                <div class="input-senha-wrap" style="position:relative;width:100%;display:block">
                  <input type="password" id="reg-senha" name="senha" required placeholder="M√≠nimo 6 caracteres" minlength="6" style="width:100%;box-sizing:border-box;padding-right:2.6rem">
                  <button type="button" class="btn-ver-senha" onclick="toggleSenha('reg-senha', this)" tabindex="-1" aria-label="Ver senha" style="position:absolute;right:.75rem;top:50%;transform:translateY(-50%);background:none;border:none;outline:none;box-shadow:none;padding:0;margin:0;cursor:pointer;color:#9ca3af;display:flex;align-items:center;-webkit-appearance:none;appearance:none">
                    <svg class="olho-off" xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"/><circle cx="12" cy="12" r="3"/></svg>
                    <svg class="olho-on" xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="display:none"><path d="M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94"/><path d="M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19"/><line x1="1" y1="1" x2="23" y2="23"/></svg>
                  </button>
                </div>
              </div>
              <div class="mc-field">
                <label for="reg-senha-conf">Confirmar senha <span style="color:#ef4444">*</span></label>
                <div class="input-senha-wrap" style="position:relative;width:100%;display:block">
                  <input type="password" id="reg-senha-conf" name="senhaConf" required placeholder="Repita a senha" minlength="6" style="width:100%;box-sizing:border-box;padding-right:2.6rem">
                  <button type="button" class="btn-ver-senha" onclick="toggleSenha('reg-senha-conf', this)" tabindex="-1" aria-label="Ver senha" style="position:absolute;right:.75rem;top:50%;transform:translateY(-50%);background:none;border:none;outline:none;box-shadow:none;padding:0;margin:0;cursor:pointer;color:#9ca3af;display:flex;align-items:center;-webkit-appearance:none;appearance:none">
                    <svg class="olho-off" xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"/><circle cx="12" cy="12" r="3"/></svg>
                    <svg class="olho-on" xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="display:none"><path d="M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94"/><path d="M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19"/><line x1="1" y1="1" x2="23" y2="23"/></svg>
                  </button>
                </div>
              </div>
              <p id="reg-erro" class="mc-erro" style="display:none;"></p>
              <button type="submit" class="mc-btn-submit" id="reg-btn">Criar conta</button>
            </form>
          </div>
        </div>
      </div>
      </div><!-- /shine-wrap -->
      <p class="landing-footer-text animate-in-right" style="--delay:.5s">¬© 2026 NC Gest√£o Veicular</p>
    </main>

  </div>
  <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2/dist/umd/supabase.min.js"></script>
  <script src="supabase-config.js"></script>
  <script src="app.js"></script>
  <script>
    function toggleSenha(inputId, btn) {
      var inp = document.getElementById(inputId);
      var visivel = inp.type === 'text';
      inp.type = visivel ? 'password' : 'text';
      btn.querySelector('.olho-off').style.display = visivel ? '' : 'none';
      btn.querySelector('.olho-on').style.display  = visivel ? 'none' : '';
    }

    (function() {
      /* ‚îÄ‚îÄ Redireciona se j√° logado ‚îÄ‚îÄ */
      if (_supabase) {
        _supabase.auth.getSession().then(function(res) {
          if (res.data && res.data.session) {
            window.location.href = 'dashboard.html';
          }
        });
      }

      /* ‚îÄ‚îÄ Abas ‚îÄ‚îÄ */
      var tabs = document.querySelectorAll('.card-tab');
      var panels = document.querySelectorAll('.card-tab-panel');
      tabs.forEach(function(tab) {
        tab.addEventListener('click', function() {
          var target = this.getAttribute('data-tab');
          tabs.forEach(function(t) {
            t.classList.toggle('active', t === tab);
            t.setAttribute('aria-pressed', t === tab ? 'true' : 'false');
          });
          panels.forEach(function(p) {
            var isLogin = p.id === 'panel-login';
            p.classList.toggle('hidden', (target === 'login' && !isLogin) || (target === 'cadastro' && isLogin));
          });
        });
      });

      /* ‚îÄ‚îÄ Recuperar senha ‚îÄ‚îÄ */
      document.getElementById('link-recuperar').addEventListener('click', function(e) {
        e.preventDefault();
        document.getElementById('login-header').style.display = 'none';
        document.getElementById('form-login').style.display = 'none';
        document.getElementById('painel-recuperar').style.display = 'block';
        document.getElementById('login-erro').style.display = 'none';
      });
      document.getElementById('link-voltar-login').addEventListener('click', function(e) {
        e.preventDefault();
        document.getElementById('painel-recuperar').style.display = 'none';
        document.getElementById('login-header').style.display = 'block';
        document.getElementById('form-login').style.display = 'block';
        document.getElementById('rec-msg').style.display = 'none';
      });
      document.getElementById('rec-btn').addEventListener('click', function() {
        var email = document.getElementById('rec-email').value.trim();
        var msg   = document.getElementById('rec-msg');
        var btn   = document.getElementById('rec-btn');
        msg.style.display = 'none';
        if (!email) { msg.textContent = 'Informe seu e-mail.'; msg.style.display = 'block'; return; }
        if (!_supabase) { msg.textContent = 'Erro de configura√ß√£o.'; msg.style.display = 'block'; return; }
        btn.disabled = true;
        btn.textContent = 'Enviando...';
        _supabase.auth.resetPasswordForEmail(email, {
          redirectTo: window.location.origin + '/resetar-senha.html'
        }).then(function(res) {
          btn.disabled = false;
          btn.textContent = 'Enviar link';
          if (res.error) {
            msg.style.color = '#ef4444';
            msg.textContent = 'Erro: ' + res.error.message;
          } else {
            msg.style.color = '#0d9488';
            msg.style.background = '#f0fdf4';
            msg.style.borderColor = '#bbf7d0';
            msg.textContent = 'Link enviado! Verifique sua caixa de entrada.';
          }
          msg.style.display = 'block';
        });
      });

      /* ‚îÄ‚îÄ Login ‚îÄ‚îÄ */
      document.getElementById('form-login').addEventListener('submit', function(e) {
        e.preventDefault();
        var email = document.getElementById('login-email').value.trim();
        var senha = document.getElementById('login-senha').value;
        var btn   = document.getElementById('login-btn');
        var erro  = document.getElementById('login-erro');
        erro.style.display = 'none';
        if (!_supabase) {
          erro.textContent = 'Configura√ß√£o do banco de dados pendente. Configure a anon key no supabase-config.js.';
          erro.style.display = 'block';
          return;
        }
        btn.disabled = true;
        btn.textContent = 'Entrando...';
        _supabase.auth.signInWithPassword({ email: email, password: senha })
          .then(async function(res) {
            if (res.error) {
              erro.textContent = 'E-mail ou senha incorretos.';
              erro.style.display = 'block';
              btn.disabled = false;
              btn.textContent = 'Entrar';
            } else {
              var cliente = await getClienteAtual();
              if (cliente && cliente.isAdmin) {
                window.location.href = 'admin.html';
              } else {
                window.location.href = 'dashboard.html';
              }
            }
          });
      });

      /* ‚îÄ‚îÄ Valida√ß√£o visual de campo (cadastro) ‚îÄ‚îÄ */
      function marcarErroCadastro(inputEl, erroEl, msg) {
        inputEl.style.borderColor = '#ef4444';
        inputEl.style.boxShadow = '0 0 0 3px rgba(239,68,68,.12)';
        inputEl.style.animation = 'none';
        void inputEl.offsetWidth;
        inputEl.style.animation = 'shake .3s ease';
        erroEl.textContent = msg;
        erroEl.style.display = 'block';
        inputEl.focus();
        inputEl.addEventListener('input', function limpar() {
          inputEl.style.borderColor = '';
          inputEl.style.boxShadow = '';
          erroEl.style.display = 'none';
          inputEl.removeEventListener('input', limpar);
        }, { once: true });
      }

      /* ‚îÄ‚îÄ Cadastro ‚îÄ‚îÄ */
      document.getElementById('form-cadastro-inicial').addEventListener('submit', function(e) {
        e.preventDefault();
        var form  = e.target;
        var nome  = form.nomeCompleto.value.trim();
        var end   = form.endereco.value.trim();
        var tel   = form.telefone.value.trim();
        var email = form.email.value.trim();
        var senha = form.senha.value;
        var conf  = form.senhaConf.value;
        var btn   = document.getElementById('reg-btn');
        var erro  = document.getElementById('reg-erro');
        erro.style.display = 'none';

        /* Valida√ß√£o campo a campo com destaque visual */
        if (!nome) { marcarErroCadastro(document.getElementById('reg-nome'), erro, 'O nome completo √© obrigat√≥rio.'); return; }
        if (!end)  { marcarErroCadastro(document.getElementById('reg-endereco'), erro, 'O endere√ßo √© obrigat√≥rio.'); return; }
        if (!tel)  { marcarErroCadastro(document.getElementById('reg-telefone'), erro, 'O telefone √© obrigat√≥rio.'); return; }
        if (!email){ marcarErroCadastro(document.getElementById('reg-email'), erro, 'O e-mail √© obrigat√≥rio.'); return; }
        if (!senha){ marcarErroCadastro(document.getElementById('reg-senha'), erro, 'A senha √© obrigat√≥ria.'); return; }
        if (senha.length < 6) { marcarErroCadastro(document.getElementById('reg-senha'), erro, 'A senha deve ter pelo menos 6 caracteres.'); return; }
        if (!conf) { marcarErroCadastro(document.getElementById('reg-senha-conf'), erro, 'Confirme a sua senha.'); return; }

        if (senha !== conf) {
          marcarErroCadastro(document.getElementById('reg-senha-conf'), erro, 'As senhas n√£o coincidem. Verifique e tente novamente.');
          return;
        }

        if (!_supabase) {
          erro.textContent = 'Configura√ß√£o do banco de dados pendente. Configure a anon key no supabase-config.js.';
          erro.style.display = 'block';
          return;
        }
        btn.disabled = true;
        btn.textContent = 'Criando conta...';

        (async function() {
          try {
            /* 1. Cria usu√°rio no Supabase Auth */
            var resAuth = await _supabase.auth.signUp({ email: email, password: senha });

            if (resAuth.error) {
              var msgErro = resAuth.error.message;
              if (msgErro === 'User already registered' || msgErro.includes('already registered')) {
                marcarErroCadastro(document.getElementById('reg-email'), erro, 'Este e-mail j√° est√° cadastrado.');
              } else if (msgErro.includes('sending confirmation email') || msgErro.includes('email')) {
                erro.textContent = 'Servi√ßo de e-mail temporariamente indispon√≠vel. Tente novamente em alguns minutos ou entre em contato com o suporte.';
                erro.style.display = 'block';
              } else {
                erro.textContent = 'Erro ao criar conta: ' + msgErro;
                erro.style.display = 'block';
              }
              return;
            }

            if (!resAuth.data || !resAuth.data.user) {
              /* Supabase retorna user=null quando confirma√ß√£o de e-mail est√° ativa
                 e o usu√°rio ainda n√£o confirmou. Trata como sucesso parcial. */
              form.reset();
              document.querySelector('.card-tab[data-tab="login"]').click();
              var loginErroConf = document.getElementById('login-erro');
              loginErroConf.style.color = '#b45309';
              loginErroConf.style.background = '#fffbeb';
              loginErroConf.style.border = '1px solid #fde68a';
              loginErroConf.style.borderRadius = '8px';
              loginErroConf.style.padding = '.5rem .75rem';
              loginErroConf.textContent = '‚úì Cadastro enviado! Verifique seu e-mail para confirmar a conta antes de fazer login.';
              loginErroConf.style.display = 'block';
              return;
            }

            var userId = resAuth.data.user.id;

            /* 2. Salva dados do cliente na tabela clientes */
            var resInsert = await _supabase.from('clientes').insert({
              auth_user_id: userId,
              nome_completo: nome,
              email: email,
              telefone: tel,
              endereco: end,
              senha: senha
            });

            if (resInsert.error) {
              erro.textContent = 'Conta criada, mas erro ao salvar dados: ' + resInsert.error.message;
              erro.style.display = 'block';
              return;
            }

            /* 3. Sucesso ‚Äî vai para o login */
            form.reset();
            document.querySelector('.card-tab[data-tab="login"]').click();
            var loginErro = document.getElementById('login-erro');
            loginErro.style.color = '#0d9488';
            loginErro.style.background = '#f0fdf4';
            loginErro.style.border = '1px solid #bbf7d0';
            loginErro.style.borderRadius = '8px';
            loginErro.style.padding = '.5rem .75rem';
            loginErro.textContent = '‚úì Conta criada com sucesso! Fa√ßa login para continuar.';
            loginErro.style.display = 'block';

          } catch (err) {
            erro.textContent = 'Erro inesperado: ' + (err.message || err);
            erro.style.display = 'block';
          } finally {
            btn.disabled = false;
            btn.textContent = 'Criar conta';
          }
        })();
      });

      /* ‚îÄ‚îÄ Shine Border: luz segue o mouse ao redor do card ‚îÄ‚îÄ */
      var shineWrap = document.getElementById('shine-wrap');
      var shineBeam = document.getElementById('shine-beam');
      shineWrap.addEventListener('mousemove', function(e) {
        var rect = shineWrap.getBoundingClientRect();
        var cx = rect.width / 2, cy = rect.height / 2;
        var mx = e.clientX - rect.left, my = e.clientY - rect.top;
        var angle = Math.atan2(my - cy, mx - cx) * (180 / Math.PI) + 90;
        shineBeam.style.background =
          'conic-gradient(from ' + (angle - 40) + 'deg at 50% 50%,' +
          'transparent 0deg,transparent 30deg,' +
          '#0d948822 50deg,#0d9488 70deg,#7fffd4 80deg,' +
          '#0d9488 90deg,#0d948822 110deg,' +
          'transparent 130deg,transparent 360deg)';
      });
      shineWrap.addEventListener('mouseleave', function() {
        shineBeam.style.background = 'transparent';
      });

      /* ‚îÄ‚îÄ Magic Card: spotlight segue o mouse ‚îÄ‚îÄ */
      var card = document.getElementById('magic-card');
      var spotlight = document.getElementById('magic-spotlight');
      card.addEventListener('mousemove', function(e) {
        var rect = card.getBoundingClientRect();
        var x = e.clientX - rect.left;
        var y = e.clientY - rect.top;
        spotlight.style.background =
          'radial-gradient(280px circle at ' + x + 'px ' + y + 'px, rgba(200,220,255,0.35), transparent 65%)';
      });
      card.addEventListener('mouseleave', function() {
        spotlight.style.background = 'transparent';
      });

      /* ‚îÄ‚îÄ Parallax suave da coluna esquerda ‚îÄ‚îÄ */
      var info = document.querySelector('.landing-info-inner');
      document.querySelector('.landing-info').addEventListener('mousemove', function(e) {
        var rect = this.getBoundingClientRect();
        var cx = rect.width / 2, cy = rect.height / 2;
        var dx = (e.clientX - rect.left - cx) / cx;
        var dy = (e.clientY - rect.top  - cy) / cy;
        info.style.transform = 'translate(' + (dx * 6) + 'px,' + (dy * 4) + 'px)';
      });
      document.querySelector('.landing-info').addEventListener('mouseleave', function() {
        info.style.transform = '';
      });
    })();
  </script>
</body>
</html>
